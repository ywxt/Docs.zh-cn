---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/deploying-your-site-using-an-ftp-client-cs
title: 部署你的网站使用 FTP 客户端 (C#) |Microsoft Docs
author: rick-anderson
description: 部署 ASP.NET 应用程序的最简单方法是手动将从开发环境所需的文件复制到生产环境。 此应用程序...
ms.author: riande
ms.date: 04/01/2009
ms.assetid: a3599cf7-8474-4006-954a-3bc693736b66
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/deploying-your-site-using-an-ftp-client-cs
msc.type: authoredcontent
ms.openlocfilehash: cdecc85c056fc5153763d938c665b473117df9ba
ms.sourcegitcommit: 45ac74e400f9f2b7dbded66297730f6f14a4eb25
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/16/2018
ms.locfileid: "41825681"
---
<a name="deploying-your-site-using-an-ftp-client-c"></a><span data-ttu-id="f34a6-104">使用 FTP 客户端 (C#) 部署站点</span><span class="sxs-lookup"><span data-stu-id="f34a6-104">Deploying Your Site Using an FTP Client (C#)</span></span>
====================
<span data-ttu-id="f34a6-105">通过[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="f34a6-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="f34a6-106">[下载代码](http://download.microsoft.com/download/4/5/F/45F815EC-8B0E-46D3-9FB8-2DC015CCA306/ASPNET_Hosting_Tutorial_03_CS.zip)或[下载 PDF](http://download.microsoft.com/download/E/8/9/E8920AE6-D441-41A7-8A77-9EF8FF970D8B/aspnet_tutorial03_DeployingViaFTP_cs.pdf)</span><span class="sxs-lookup"><span data-stu-id="f34a6-106">[Download Code](http://download.microsoft.com/download/4/5/F/45F815EC-8B0E-46D3-9FB8-2DC015CCA306/ASPNET_Hosting_Tutorial_03_CS.zip) or [Download PDF](http://download.microsoft.com/download/E/8/9/E8920AE6-D441-41A7-8A77-9EF8FF970D8B/aspnet_tutorial03_DeployingViaFTP_cs.pdf)</span></span>

> <span data-ttu-id="f34a6-107">部署 ASP.NET 应用程序的最简单方法是手动将从开发环境所需的文件复制到生产环境。</span><span class="sxs-lookup"><span data-stu-id="f34a6-107">The simplest way to deploy an ASP.NET application is to manually copy the necessary files from the development environment to the production environment.</span></span> <span data-ttu-id="f34a6-108">本教程演示如何使用 FTP 客户端到 web 主机提供商从桌面上获取文件。</span><span class="sxs-lookup"><span data-stu-id="f34a6-108">This tutorial shows how to use an FTP client to get the files from your desktop to the web host provider.</span></span>


## <a name="introduction"></a><span data-ttu-id="f34a6-109">介绍</span><span class="sxs-lookup"><span data-stu-id="f34a6-109">Introduction</span></span>

<span data-ttu-id="f34a6-110">上一个教程介绍了组成少量的 ASP.NET 页、 母版页、 自定义库一个简单书籍查看 ASP.NET web 应用`Page`类，许多映像，并且三个 CSS 样式表。</span><span class="sxs-lookup"><span data-stu-id="f34a6-110">The previous tutorial introduced a simple Book Review ASP.NET web application, which is comprised of a handful of ASP.NET pages, a master page, a custom base `Page` class, a number of images, and three CSS style sheets.</span></span> <span data-ttu-id="f34a6-111">我们现已准备好部署到 web 主机提供商，此时，该应用程序将连接到 Internet，与任何人都可访问此应用程序 ！</span><span class="sxs-lookup"><span data-stu-id="f34a6-111">We are now ready to deploy this application to a web host provider, at which point the application will be accessible to anyone with a connection to the Internet!</span></span>


<span data-ttu-id="f34a6-112">从我们中的讨论[*确定哪些文件需要将部署到*](determining-what-files-need-to-be-deployed-cs.md)教程，我们知道需要复制到 web 宿主提供程序的文件。</span><span class="sxs-lookup"><span data-stu-id="f34a6-112">From our discussions in the [*Determining What Files Need to Be Deployed*](determining-what-files-need-to-be-deployed-cs.md) tutorial, we know what files need to be copied to the web host provider.</span></span> <span data-ttu-id="f34a6-113">（回想一下，哪些文件复制取决于是否在编译应用程序显式或自动。）但是，我们如何才能让文件从开发环境 （我们的桌面） 到生产环境 （由 web 主机提供商托管的 web 服务器）？</span><span class="sxs-lookup"><span data-stu-id="f34a6-113">(Recall that what files are copied depends on whether your application is explicitly or automatically compiled.) But how do we get the files from the development environment (our desktop) up to the production environment (the web server managed by the web host provider)?</span></span> <span data-ttu-id="f34a6-114">[ **F** ile **T** ransfer **P**协议 (FTP)](http://en.wikipedia.org/wiki/File_Transfer_Protocol)是常用的协议将文件从一台计算机复制到另一个，通过网络。</span><span class="sxs-lookup"><span data-stu-id="f34a6-114">The [**F** ile **T** ransfer **P** rotocol (FTP)](http://en.wikipedia.org/wiki/File_Transfer_Protocol) is a commonly used protocol for copying files from one machine to another over a network.</span></span> <span data-ttu-id="f34a6-115">另一个选项是 FrontPage 服务器扩展 (FPSE)。</span><span class="sxs-lookup"><span data-stu-id="f34a6-115">Another option is FrontPage Server Extensions (FPSE).</span></span> <span data-ttu-id="f34a6-116">本教程重点介绍使用独立 FTP 客户端软件部署到生产环境的必要文件从开发环境。</span><span class="sxs-lookup"><span data-stu-id="f34a6-116">This tutorial focuses on using stand-alone FTP client software to deploy the necessary files from the development environment to the production environment.</span></span>

> [!NOTE]
> <span data-ttu-id="f34a6-117">Visual Studio 包含用于通过 FTP; 发布网站工具下一教程中介绍了这些工具，以及看使用 FPSE 的工具。</span><span class="sxs-lookup"><span data-stu-id="f34a6-117">Visual Studio includes tools for publishing websites via FTP; these tools, as well as a look at tools that use FPSE, are covered in the next tutorial.</span></span>


<span data-ttu-id="f34a6-118">若要使用的 FTP，我们需要复制文件*FTP 客户端*开发环境。</span><span class="sxs-lookup"><span data-stu-id="f34a6-118">To copy the files using FTP we need an *FTP client* on the development environment.</span></span> <span data-ttu-id="f34a6-119">FTP 客户端是用于将文件从安装到正在运行的计算机的计算机复制的应用程序*FTP 服务器*。</span><span class="sxs-lookup"><span data-stu-id="f34a6-119">An FTP client is an application that is designed to copy files from the computer it's installed to a computer that is running an *FTP server*.</span></span> <span data-ttu-id="f34a6-120">（如果大多数一样，web 宿主提供程序支持通过 FTP，文件传输，则在其 web 服务器上运行的 FTP 服务器。）有大量的 FTP 客户端应用程序。</span><span class="sxs-lookup"><span data-stu-id="f34a6-120">(If your web host provider supports file transfers via FTP, as most do, then there is an FTP server running on their web servers.) There are a number of FTP client applications available.</span></span> <span data-ttu-id="f34a6-121">在 web 浏览器可以为 FTP 客户端甚至两倍。</span><span class="sxs-lookup"><span data-stu-id="f34a6-121">Your web browser can even double as an FTP client.</span></span> <span data-ttu-id="f34a6-122">我最喜欢的 FTP 客户端，我将用于本教程中，一个是[FileZilla](http://filezilla-project.org/)，免费的开源 FTP 客户端适用于 Windows、 Linux 和 Mac。</span><span class="sxs-lookup"><span data-stu-id="f34a6-122">My favorite FTP client, and the one I will be using for this tutorial, is [FileZilla](http://filezilla-project.org/), a free, open-source FTP client that is available for Windows, Linux, and Macs.</span></span> <span data-ttu-id="f34a6-123">但是，任何 FTP 客户端将工作，请使用在最熟悉的任何客户端。</span><span class="sxs-lookup"><span data-stu-id="f34a6-123">Any FTP client will work, though, so feel free to use whatever client you are most comfortable with.</span></span>

<span data-ttu-id="f34a6-124">在您按照沿你将需要使用 web 宿主提供程序之前创建一个帐户可以完成本教程或后续条件。</span><span class="sxs-lookup"><span data-stu-id="f34a6-124">If you are following along you will need to create an account with a web host provider before you can complete this tutorial or subsequent ones.</span></span> <span data-ttu-id="f34a6-125">上一教程中所述，有许多 web 宿主提供程序公司使用了范围广泛的价格、 功能和服务质量。</span><span class="sxs-lookup"><span data-stu-id="f34a6-125">As noted in the previous tutorial, there are a gaggle of web host provider companies with a wide spectrum of prices, features, and quality of service.</span></span> <span data-ttu-id="f34a6-126">我将使用本教程系列[折扣 ASP.NET](http://discountasp.net)作为我的 web 宿主提供程序，但你可以遵循任何 web 宿主提供程序，只要它们支持您的网站开发中的 ASP.NET 版本。</span><span class="sxs-lookup"><span data-stu-id="f34a6-126">For this tutorial series I will be using [Discount ASP.NET](http://discountasp.net) as my web host provider, but you can follow along with any web host provider as long as they support the ASP.NET version your site is developed in.</span></span> <span data-ttu-id="f34a6-127">（这些教程中创建使用 ASP.NET 3.5。）此外，由于我们会将文件复制到 web 宿主提供程序使用在本教程中，并且在将来的 FTP 它是命令性 web 宿主提供程序支持对 web 服务器的 FTP 访问。</span><span class="sxs-lookup"><span data-stu-id="f34a6-127">(These tutorials were created using ASP.NET 3.5.) Also, because we will be copying the files to the web host provider using FTP in this tutorial and in future ones it is imperative that your web host provider supports FTP access to their web servers.</span></span> <span data-ttu-id="f34a6-128">几乎所有的 web 主机提供商提供此功能，但在注册之前，您应仔细检查。</span><span class="sxs-lookup"><span data-stu-id="f34a6-128">Virtually all web host providers offer this feature, but you should double-check before signing up.</span></span>

## <a name="deploying-the-book-review-web-application-project"></a><span data-ttu-id="f34a6-129">部署书籍查看 Web 应用程序项目</span><span class="sxs-lookup"><span data-stu-id="f34a6-129">Deploying the Book Review Web Application Project</span></span>

<span data-ttu-id="f34a6-130">请记住，书评 web 应用程序的两个版本： 一个使用 Web 应用程序项目模型 (BookReviewsWAP) 和另一个使用网站项目模型 (BookReviewsWSP) 实现。</span><span class="sxs-lookup"><span data-stu-id="f34a6-130">Recall that there are two versions of the Book Review web application: one implemented using the Web Application Project model (BookReviewsWAP) and the other using the Web Site Project model (BookReviewsWSP).</span></span> <span data-ttu-id="f34a6-131">项目类型会影响是否自动或显式编译站点时，该编译模式决定了需要部署的文件。</span><span class="sxs-lookup"><span data-stu-id="f34a6-131">The project type influences whether the site is compiled automatically or explicitly, and that compilation model dictates what files need to be deployed.</span></span> <span data-ttu-id="f34a6-132">我们将说明分别部署 BookReviewsWAP 和 BookReviewsWSP 项目从 BookReviewsWAP 开始。</span><span class="sxs-lookup"><span data-stu-id="f34a6-132">Consequently, we will examine deploying the BookReviewsWAP and BookReviewsWSP projects separately, starting with the BookReviewsWAP.</span></span> <span data-ttu-id="f34a6-133">请花费片刻时间来下载这些两个 ASP.NET 应用程序，如果你尚未这样做已经。</span><span class="sxs-lookup"><span data-stu-id="f34a6-133">Take a moment to download these two ASP.NET applications if you have not done so already.</span></span>

<span data-ttu-id="f34a6-134">通过导航到启动 BookReviewsWAP 项目`BookReviewsWAP`文件夹，然后双击`BookReviewsWAP.sln`文件。</span><span class="sxs-lookup"><span data-stu-id="f34a6-134">Launch the BookReviewsWAP project by navigating to the `BookReviewsWAP` folder and double-clicking the `BookReviewsWAP.sln` file.</span></span> <span data-ttu-id="f34a6-135">部署项目之前务必生成它以确保对源代码的任何更改都包含在编译的程序集。</span><span class="sxs-lookup"><span data-stu-id="f34a6-135">Before deploying the project it is important to build it to ensure that any changes to the source code are included in the compiled assembly.</span></span> <span data-ttu-id="f34a6-136">若要生成项目转到生成菜单并选择生成 BookReviewsWAP 菜单选项。</span><span class="sxs-lookup"><span data-stu-id="f34a6-136">To build the project go to the Build menu and choose the Build BookReviewsWAP menu option.</span></span> <span data-ttu-id="f34a6-137">这将在项目中的源代码编译到单个程序集， `BookReviewsWAP.dll`，这放置在`Bin`文件夹。</span><span class="sxs-lookup"><span data-stu-id="f34a6-137">This compiles the source code in the project into a single assembly, `BookReviewsWAP.dll`, which is placed in the `Bin` folder.</span></span>

<span data-ttu-id="f34a6-138">我们现已准备好部署所需的文件 ！</span><span class="sxs-lookup"><span data-stu-id="f34a6-138">We are now ready to deploy the necessary files!</span></span> <span data-ttu-id="f34a6-139">启动 FTP 客户端并连接到 web 主机提供商的 web 服务器。</span><span class="sxs-lookup"><span data-stu-id="f34a6-139">Launch your FTP client and connect to the web server at your web host provider.</span></span> <span data-ttu-id="f34a6-140">（与 web 托管公司的名义注册时它们将通过电子邮件发送您如何连接到 FTP 服务器的信息; 这包括 FTP 服务器，以及用户名和密码的地址。）</span><span class="sxs-lookup"><span data-stu-id="f34a6-140">(When you sign up with a web hosting company they will email you information on how to connect to the FTP server; this includes the address for the FTP server as well as a username and password.)</span></span>

<span data-ttu-id="f34a6-141">从您的桌面的以下文件复制到 web 宿主提供程序上的根网站文件夹中。</span><span class="sxs-lookup"><span data-stu-id="f34a6-141">Copy the following files from your desktop to the root website folder at your web host provider.</span></span> <span data-ttu-id="f34a6-142">当您为 web 服务器的 FTP 在 web 承载提供程序时您很可能在网站根目录。</span><span class="sxs-lookup"><span data-stu-id="f34a6-142">When you FTP into the web server at the web host provider you are likely at the root website directory.</span></span> <span data-ttu-id="f34a6-143">但是，某些 web 宿主提供程序具有一个名为子`www`或`wwwroot`可用作你的网站文件的根文件夹。</span><span class="sxs-lookup"><span data-stu-id="f34a6-143">However, some web host providers have a subfolder named `www` or `wwwroot` that serves as the root folder for your website files.</span></span> <span data-ttu-id="f34a6-144">最后，当 FTPing 文件时您可能需要在生产环境中的上创建相应的文件夹结构`Bin`文件夹中，`Fiction`文件夹中，`Images`文件夹中，依次类推。</span><span class="sxs-lookup"><span data-stu-id="f34a6-144">Finally, when FTPing the files you may need to create the corresponding folder structure on the production environment - the `Bin` folder, the `Fiction` folder, the `Images` folder, and so on.</span></span>

- `~/Default.aspx`
- `~/About.aspx`
- `~/Site.master`
- `~/Web.config`
- `~/Web.sitemap`
- <span data-ttu-id="f34a6-145">完整内容`Styles`文件夹</span><span class="sxs-lookup"><span data-stu-id="f34a6-145">The complete contents of the `Styles` folder</span></span>
- <span data-ttu-id="f34a6-146">完整内容`Images`文件夹 (及其子文件夹， `BookCovers`)</span><span class="sxs-lookup"><span data-stu-id="f34a6-146">The complete contents of the `Images` folder (and its subfolder, `BookCovers`)</span></span>
- `~/Fiction/Default.aspx`
- `~/Fiction/Blaze.aspx`
- `~/Tech/Default.aspx`
- `~/Tech/CYOW.aspx`
- `~/Tech/TYASP35.aspx`
- `~/Bin/BookReviewsWAP.dll`

<span data-ttu-id="f34a6-147">图 1 显示了 FileZilla 后已复制所需的文件。</span><span class="sxs-lookup"><span data-stu-id="f34a6-147">Figure 1 shows FileZilla after the necessary files have been copied.</span></span> <span data-ttu-id="f34a6-148">FileZilla 显示在左侧和右侧的远程计算机上的文件在本地计算机上的文件。</span><span class="sxs-lookup"><span data-stu-id="f34a6-148">FileZilla displays the files on the local computer on the left and the files on the remote computer on the right.</span></span> <span data-ttu-id="f34a6-149">如图 1 所示，ASP.NET 源代码文件，如`About.aspx.cs`，位于本地计算机 （开发环境），但未被其因为无需使用时部署代码文件复制到 web 宿主提供程序 （在生产环境）显式编译。</span><span class="sxs-lookup"><span data-stu-id="f34a6-149">As Figure 1 shows, the ASP.NET source code files, such as `About.aspx.cs`, are on the local computer (the development environment) but were not copied to the web host provider (the production environment) because code files do not need to be deployed when using explicit compilation.</span></span>

> [!NOTE]
> <span data-ttu-id="f34a6-150">具有源代码文件在生产服务器上，没有什么坏处它们将被忽略。</span><span class="sxs-lookup"><span data-stu-id="f34a6-150">There is no harm in having the source code files on the production server, as they are ignored.</span></span> <span data-ttu-id="f34a6-151">ASP.NET，以便即使生产服务器上存在的源代码文件将无法访问它们对你的网站的访客，默认情况下禁止对源代码文件的 HTTP 请求。</span><span class="sxs-lookup"><span data-stu-id="f34a6-151">ASP.NET forbids HTTP requests to source code files by default so that even if the source code files are present on the production server they are inaccessible to visitors to your website.</span></span> <span data-ttu-id="f34a6-152">(即，如果用户尝试访问`http://www.yoursite.com/Default.aspx.cs`他们将得到一个错误页面，介绍的这些类型的文件-`.cs`文件-被禁止。)</span><span class="sxs-lookup"><span data-stu-id="f34a6-152">(That is, if a user tries to visit `http://www.yoursite.com/Default.aspx.cs` they will get an error page that explains that these types of files - `.cs` files - are forbidden.)</span></span>


<span data-ttu-id="f34a6-153">[![使用 FTP 客户端将从您的桌面的所需的文件复制到 Web 主机提供商的 Web 服务器](deploying-your-site-using-an-ftp-client-cs/_static/image2.png)](deploying-your-site-using-an-ftp-client-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="f34a6-153">[![Use an FTP Client to Copy the Necessary Files from Your Desktop to the Web Server at the Web Host Provider](deploying-your-site-using-an-ftp-client-cs/_static/image2.png)](deploying-your-site-using-an-ftp-client-cs/_static/image1.png)</span></span>

<span data-ttu-id="f34a6-154">**图 1**： 使用 FTP 客户端将从你的桌面的所需的文件复制到 Web 主机提供商的 Web 服务器 ([单击以查看实际尺寸的图像](deploying-your-site-using-an-ftp-client-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="f34a6-154">**Figure 1**: Use an FTP Client to Copy the Necessary Files from Your Desktop to the Web Server at the Web Host Provider ([Click to view full-size image](deploying-your-site-using-an-ftp-client-cs/_static/image3.png))</span></span>


<span data-ttu-id="f34a6-155">在部署你的站点后请花费片刻时间以测试网站。</span><span class="sxs-lookup"><span data-stu-id="f34a6-155">After deploying your site take a moment to test the site.</span></span> <span data-ttu-id="f34a6-156">如果你只购买一个域名并配置 DNS 设置正确，可以通过输入你的域名访问你的站点。</span><span class="sxs-lookup"><span data-stu-id="f34a6-156">If you have purchased a domain name and configured the DNS settings properly, you can visit your site by entering your domain name.</span></span> <span data-ttu-id="f34a6-157">或者，您的 web 主机提供商应提供你指向你的站点的 url 这看起来好像*accountname*。*webhostprovider*.com 或*webhostprovider*.com /*accountname*。</span><span class="sxs-lookup"><span data-stu-id="f34a6-157">Alternatively, your web host provider should have supplied you with a URL to your site, which will look something like *accountname*.*webhostprovider*.com or *webhostprovider*.com/*accountname*.</span></span> <span data-ttu-id="f34a6-158">例如，我在折扣 ASP.NET 上的帐户的 URL 是： `http://httpruntime.web703.discountasp.net`。</span><span class="sxs-lookup"><span data-stu-id="f34a6-158">For example, the URL for my account on Discount ASP.NET is: `http://httpruntime.web703.discountasp.net`.</span></span>

<span data-ttu-id="f34a6-159">图 2 显示了已部署的书评站点。</span><span class="sxs-lookup"><span data-stu-id="f34a6-159">Figure 2 shows the deployed Book Reviews site.</span></span> <span data-ttu-id="f34a6-160">请注意，我将折扣 ASP 上查看它。NET 的服务器在`http://httpruntime.web703.discountasp.net`。</span><span class="sxs-lookup"><span data-stu-id="f34a6-160">Note that I am viewing it on Discount ASP.NET's servers, at `http://httpruntime.web703.discountasp.net`.</span></span> <span data-ttu-id="f34a6-161">在此时间点与 Internet 建立连接的任何人都无法查看我的网站 ！</span><span class="sxs-lookup"><span data-stu-id="f34a6-161">At this point in time anyone with a connection to the Internet could view my website!</span></span> <span data-ttu-id="f34a6-162">如我们所料，该站点的外观和行为就像它未在开发环境中测试它时。</span><span class="sxs-lookup"><span data-stu-id="f34a6-162">As we'd expect, the site looks and behaves just as it did when testing it in the development environment.</span></span>

> [!NOTE]
> <span data-ttu-id="f34a6-163">如果遇到错误时查看你的应用程序需要一段时间来确保您部署正确的文件集。</span><span class="sxs-lookup"><span data-stu-id="f34a6-163">If you get an error when viewing your application take a moment to ensure that you deployed the correct set of files.</span></span> <span data-ttu-id="f34a6-164">接下来，检查错误消息，请参阅是否它将显示有关该问题有什么解决办法。</span><span class="sxs-lookup"><span data-stu-id="f34a6-164">Next, check the error message to see if it reveals any clues as to the problem.</span></span> <span data-ttu-id="f34a6-165">接下来，转到 web 主机公司的支持人员或将问题发布到相应论坛[ASP.NET 论坛](https://forums.asp.net/)。</span><span class="sxs-lookup"><span data-stu-id="f34a6-165">Following that, you can turn to your web host company's helpdesk or post your question to the appropriate forum at the [ASP.NET Forums](https://forums.asp.net/).</span></span>


<span data-ttu-id="f34a6-166">[![通讯簿评审站点是现在可以访问在具有 Internet 连接的任何人](deploying-your-site-using-an-ftp-client-cs/_static/image5.png)](deploying-your-site-using-an-ftp-client-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="f34a6-166">[![The Book Reviews Site is Now Accessible to Anyone with an Internet Connection](deploying-your-site-using-an-ftp-client-cs/_static/image5.png)](deploying-your-site-using-an-ftp-client-cs/_static/image4.png)</span></span>

<span data-ttu-id="f34a6-167">**图 2**: 通讯簿评审站点是现在可以访问在具有 Internet 连接的任何人 ([单击以查看实际尺寸的图像](deploying-your-site-using-an-ftp-client-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="f34a6-167">**Figure 2**: The Book Reviews Site is Now Accessible to Anyone with an Internet Connection ([Click to view full-size image](deploying-your-site-using-an-ftp-client-cs/_static/image6.png))</span></span>


## <a name="deploying-the-book-review-web-site-project"></a><span data-ttu-id="f34a6-168">部署书籍检查网站项目</span><span class="sxs-lookup"><span data-stu-id="f34a6-168">Deploying the Book Review Web Site Project</span></span>

<span data-ttu-id="f34a6-169">使用自动编译，如 BookReviewsWSP 网站项目，将 ASP.NET 应用程序部署时在无编译的程序集`Bin`文件夹。</span><span class="sxs-lookup"><span data-stu-id="f34a6-169">When deploying an ASP.NET application that uses automatic compilation, such as the BookReviewsWSP Web Site Project, there is no compiled assembly in the `Bin` folder.</span></span> <span data-ttu-id="f34a6-170">因此，web 应用程序的源代码文件必须部署到生产环境。</span><span class="sxs-lookup"><span data-stu-id="f34a6-170">As a result, the web application's source code files must be deployed to the production environment.</span></span> <span data-ttu-id="f34a6-171">让我们完成此过程。</span><span class="sxs-lookup"><span data-stu-id="f34a6-171">Let's walk through this process.</span></span>

<span data-ttu-id="f34a6-172">为与 Web 应用程序项目是明智的第一次生成前将其部署应用程序。</span><span class="sxs-lookup"><span data-stu-id="f34a6-172">As with the Web Application Project it's wise to first Build the application before deploying it.</span></span> <span data-ttu-id="f34a6-173">而构建的网站项目不会创建程序集，它会检查页中的任何编译时错误。</span><span class="sxs-lookup"><span data-stu-id="f34a6-173">While building a Web Site Project does not create an assembly, it does check for any compile-time errors in the page.</span></span> <span data-ttu-id="f34a6-174">若要查找这些错误现在使用效果更佳而不是让你的站点访问者发现它们为你 ！</span><span class="sxs-lookup"><span data-stu-id="f34a6-174">Better to find these errors now rather than having a visitor to your site discover them for you!</span></span>

<span data-ttu-id="f34a6-175">一旦您已成功生成项目，使用 FTP 客户端将以下文件复制到 web 宿主提供程序上的根网站文件夹。</span><span class="sxs-lookup"><span data-stu-id="f34a6-175">Once you've successfully built the project, use your FTP client to copy the following files to the root website folder at your web host provider.</span></span> <span data-ttu-id="f34a6-176">您可能需要在生产环境中创建相应的文件夹结构。</span><span class="sxs-lookup"><span data-stu-id="f34a6-176">You may need to create the corresponding folder structure on the production environment.</span></span>

> [!NOTE]
> <span data-ttu-id="f34a6-177">如果已部署项目但仍想要尝试部署 BookReviewsWSP 项目的 BookReviewsWAP，首先删除所有部署 BookReviewsWAP 时已上传 web 服务器上的文件，然后为 BookReviewsWSP 部署文件。</span><span class="sxs-lookup"><span data-stu-id="f34a6-177">If you already deployed the BookReviewsWAP project but still want to try deploying the BookReviewsWSP project, first delete all of the files on the web server that were uploaded when deploying BookReviewsWAP and then deploy the files for BookReviewsWSP.</span></span>


- `~/Default.aspx`
- `~/Default.aspx.cs`
- `~/About.aspx`
- `~/About.aspx.cs`
- `~/Site.master`
- `~/Site.master.cs`
- `~/Web.config`
- `~/Web.sitemap`
- <span data-ttu-id="f34a6-178">完整内容`Styles`文件夹</span><span class="sxs-lookup"><span data-stu-id="f34a6-178">The complete contents of the `Styles` folder</span></span>
- <span data-ttu-id="f34a6-179">完整内容`Images`文件夹 (及其子文件夹， `BookCovers`)</span><span class="sxs-lookup"><span data-stu-id="f34a6-179">The complete contents of the `Images` folder (and its subfolder, `BookCovers`)</span></span>
- `~/App_Code/BasePage.cs`
- `~/Fiction/Default.aspx`
- `~/Fiction/Default.aspx.cs`
- `~/Fiction/Blaze.aspx`
- `~/Fiction/Blaze.aspx.cs`
- `~/Tech/Default.aspx`
- `~/Tech/Default.aspx.cs`
- `~/Tech/CYOW.aspx`
- `~/Tech/CYOW.aspx.cs`
- `~/Tech/TYASP35.aspx`
- `~/Tech/TYASP35.aspx.cs`

<span data-ttu-id="f34a6-180">图 3 显示了所需的文件复制后 FileZilla。</span><span class="sxs-lookup"><span data-stu-id="f34a6-180">Figure 3 shows FileZilla after copying up the necessary files.</span></span> <span data-ttu-id="f34a6-181">正如您所看到的 ASP.NET 源代码文件，如`About.aspx.cs`，因为需要时使用自动部署代码文件均存在于本地计算机 （开发环境） 和 web 宿主提供程序 （在生产环境）编译。</span><span class="sxs-lookup"><span data-stu-id="f34a6-181">As you can see, the ASP.NET source code files, such as `About.aspx.cs`, are present on both the local computer (the development environment) and the web host provider (the production environment) because code files need to be deployed when using automatic compilation.</span></span>


<span data-ttu-id="f34a6-182">[![使用 FTP 客户端将从您的桌面的所需的文件复制到 Web 主机提供商的 Web 服务器](deploying-your-site-using-an-ftp-client-cs/_static/image8.png)](deploying-your-site-using-an-ftp-client-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="f34a6-182">[![Use an FTP Client to Copy the Necessary Files from Your Desktop to the Web Server at the Web Host Provider](deploying-your-site-using-an-ftp-client-cs/_static/image8.png)](deploying-your-site-using-an-ftp-client-cs/_static/image7.png)</span></span>

<span data-ttu-id="f34a6-183">**图 3**： 使用 FTP 客户端将从你的桌面的所需的文件复制到 Web 主机提供商的 Web 服务器 ([单击以查看实际尺寸的图像](deploying-your-site-using-an-ftp-client-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="f34a6-183">**Figure 3**: Use an FTP Client to Copy the Necessary Files from Your Desktop to the Web Server at the Web Host Provider ([Click to view full-size image](deploying-your-site-using-an-ftp-client-cs/_static/image9.png))</span></span>


<span data-ttu-id="f34a6-184">应用程序的编译模式不影响用户体验。</span><span class="sxs-lookup"><span data-stu-id="f34a6-184">The user experience is not affected by the application's compilation model.</span></span> <span data-ttu-id="f34a6-185">相同的 ASP.NET 页面访问，它们的外观和是否已创建网站，使用 Web 应用程序项目模型或网站项目模型的行为相同。</span><span class="sxs-lookup"><span data-stu-id="f34a6-185">The same ASP.NET pages are accessible and they look and behave the same whether the website was created using the Web Application Project model or the Web Site Project model.</span></span>

### <a name="updating-a-web-application-on-production"></a><span data-ttu-id="f34a6-186">更新生产上的 Web 应用程序</span><span class="sxs-lookup"><span data-stu-id="f34a6-186">Updating a Web Application on Production</span></span>

<span data-ttu-id="f34a6-187">Web 应用程序开发和部署不是一次性的过程。</span><span class="sxs-lookup"><span data-stu-id="f34a6-187">Web application development and deployment are not a one-time process.</span></span> <span data-ttu-id="f34a6-188">例如，创建书籍评论网站时我构建了的各个页面，并在我的个人计算机 （开发环境） 编写的随附的代码。</span><span class="sxs-lookup"><span data-stu-id="f34a6-188">For example, when creating the Book Review website I built the various pages and wrote the accompanying code on my personal computer (the development environment).</span></span> <span data-ttu-id="f34a6-189">达到稳定状态之后, 我部署我的应用程序，以便其他人可以访问该站点并阅读我的评审。</span><span class="sxs-lookup"><span data-stu-id="f34a6-189">After reaching a certain stable state, I deployed my application so that others could visit the site and read my reviews.</span></span> <span data-ttu-id="f34a6-190">但部署不会将结束此站点上我开发。</span><span class="sxs-lookup"><span data-stu-id="f34a6-190">But deployment does not mark the end of my development on this site.</span></span> <span data-ttu-id="f34a6-191">可能会添加更多书籍评审或实现新功能，例如允许我的访客率书籍或保留他们自己的意见。</span><span class="sxs-lookup"><span data-stu-id="f34a6-191">I may add more book reviews or implement new features, such as allowing my visitors to rate books or leave their own comments.</span></span> <span data-ttu-id="f34a6-192">此类增强功能将在开发环境中开发和完成后，可能需要进行部署。</span><span class="sxs-lookup"><span data-stu-id="f34a6-192">Such enhancements would be developed on the development environment and, when completed, would need to be deployed.</span></span> <span data-ttu-id="f34a6-193">开发和部署，因此，在循环。</span><span class="sxs-lookup"><span data-stu-id="f34a6-193">Development and deployment, therefore, are cyclical.</span></span> <span data-ttu-id="f34a6-194">开发的应用程序，然后将其部署。</span><span class="sxs-lookup"><span data-stu-id="f34a6-194">You develop an application and then deploy it.</span></span> <span data-ttu-id="f34a6-195">同时站点是实时和生产环境中，添加新功能，并随着时间推移，这使得需要重新部署应用程序修复 bug。</span><span class="sxs-lookup"><span data-stu-id="f34a6-195">While the site is live and in production, new features are added and bugs are fixed over time, which necessitates re-deploying the application.</span></span> <span data-ttu-id="f34a6-196">等，依此类推。</span><span class="sxs-lookup"><span data-stu-id="f34a6-196">And so on and so on.</span></span>

<span data-ttu-id="f34a6-197">正如您所料，重新部署 web 应用程序只需复制新的和已更改文件时。</span><span class="sxs-lookup"><span data-stu-id="f34a6-197">As you might expect, when re-deploying a web application you only need to copy new and changed files.</span></span> <span data-ttu-id="f34a6-198">无需重新部署不变的页或服务器或客户端支持文件 （尽管这样做会造成任何伤害）。</span><span class="sxs-lookup"><span data-stu-id="f34a6-198">There's no need to re-deploy unchanged pages or server- or client-side support files (although there's no harm in doing so).</span></span>

> [!NOTE]
> <span data-ttu-id="f34a6-199">使用显式编译是无论何时向项目添加新的 ASP.NET 页面或进行任何与代码相关的更改，您需要重新生成项目，这会更新中的程序集时，需要注意的一点`Bin`文件夹。</span><span class="sxs-lookup"><span data-stu-id="f34a6-199">One thing to keep in mind when using explicit compilation is that anytime you add a new ASP.NET page to the project or make any code-related changes, you need to rebuild your project, which updates the assembly in the `Bin` folder.</span></span> <span data-ttu-id="f34a6-200">因此，您将需要更新生产 （以及其他新的和更新内容） 上的 web 应用程序时，将此更新的程序集复制到生产环境。</span><span class="sxs-lookup"><span data-stu-id="f34a6-200">Consequently, you'll need to copy this updated assembly to production when updating a web application on production (along with the other new and updated content).</span></span>


<span data-ttu-id="f34a6-201">此外了解到的任何更改`Web.config`中的文件或`Bin`目录停止并重新启动该网站的应用程序池。</span><span class="sxs-lookup"><span data-stu-id="f34a6-201">Also understand that any changes to the `Web.config` or the files in the `Bin` directory stops and restarts the website's Application Pool.</span></span> <span data-ttu-id="f34a6-202">如果使用存储会话状态`InProc`模式 （默认值），然后你网站的访问者将会丢失其会话状态时修改这些密钥文件。</span><span class="sxs-lookup"><span data-stu-id="f34a6-202">If your session state is stored using the `InProc` mode (the default) then your site's visitors will lose their session state whenever these key files are modified.</span></span> <span data-ttu-id="f34a6-203">若要避免这种问题，请考虑将存储会话使用`StateServer`或`SQLServer`模式。</span><span class="sxs-lookup"><span data-stu-id="f34a6-203">To avoid this pitfall, consider storing session using the `StateServer` or `SQLServer` modes.</span></span> <span data-ttu-id="f34a6-204">有关本主题的详细信息请阅读[会话状态模式](https://msdn.microsoft.com/library/ms178586.aspx)。</span><span class="sxs-lookup"><span data-stu-id="f34a6-204">For more information on this topic read [Session-State Modes](https://msdn.microsoft.com/library/ms178586.aspx).</span></span>

<span data-ttu-id="f34a6-205">最后，请记住，重新部署应用程序可能需要几秒钟到几分钟，具体取决于的数量和复制到生产环境所需的文件的大小。</span><span class="sxs-lookup"><span data-stu-id="f34a6-205">Finally, keep in mind that re-deploying an application can take anywhere from a few seconds to several minutes, depending on the number and size of files that need to be copied to the production environment.</span></span> <span data-ttu-id="f34a6-206">在此期间用户访问您的网站可能会遇到错误或异常行为。</span><span class="sxs-lookup"><span data-stu-id="f34a6-206">During this time users visiting your site may experience errors or odd behavior.</span></span> <span data-ttu-id="f34a6-207">你可以"禁用"将整个应用程序通过添加一个名为页`App_Offline.htm`介绍给您的用户的应用程序的根目录到该站点已关闭进行维护 （或任何内容），并且会是备份很快。</span><span class="sxs-lookup"><span data-stu-id="f34a6-207">You can "turn off" your entire application by adding a page named `App_Offline.htm` to your application's root directory that explains to your users that the site is down for maintenance (or whatever) and will be back up shortly.</span></span> <span data-ttu-id="f34a6-208">当`App_Offline.htm`文件存在，则 ASP.NET 运行时将所有传入请求重定向到该页面。</span><span class="sxs-lookup"><span data-stu-id="f34a6-208">When the `App_Offline.htm` file is present, the ASP.NET runtime redirects all incoming requests to that page.</span></span>

## <a name="summary"></a><span data-ttu-id="f34a6-209">总结</span><span class="sxs-lookup"><span data-stu-id="f34a6-209">Summary</span></span>

<span data-ttu-id="f34a6-210">Web 应用程序部署时，需要将所需的文件从开发环境复制到生产环境。</span><span class="sxs-lookup"><span data-stu-id="f34a6-210">Deploying a web application entails copying the necessary files from the development environment to the production environment.</span></span> <span data-ttu-id="f34a6-211">按其通过网络传输文件的最常见方式是文件传输协议 (FTP) 和大多数 web 宿主提供程序支持对 web 服务器的 FTP 访问。</span><span class="sxs-lookup"><span data-stu-id="f34a6-211">The most common means by which files are transferred over a network is the File Transfer Protocol (FTP), and most web host providers support FTP access to their web servers.</span></span> <span data-ttu-id="f34a6-212">在本教程中我们已了解如何使用 FTP 客户端将所需的文件部署到 web 服务器。</span><span class="sxs-lookup"><span data-stu-id="f34a6-212">In this tutorial we saw how to use an FTP client to deploy the needed files to the web server.</span></span> <span data-ttu-id="f34a6-213">部署完成后，该网站可访问的任何人使用连接到 Internet ！</span><span class="sxs-lookup"><span data-stu-id="f34a6-213">Once deployed, the website can be visited by anyone with a connection to the Internet!</span></span>

<span data-ttu-id="f34a6-214">快乐编程 ！</span><span class="sxs-lookup"><span data-stu-id="f34a6-214">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="f34a6-215">其他阅读材料</span><span class="sxs-lookup"><span data-stu-id="f34a6-215">Further Reading</span></span>

<span data-ttu-id="f34a6-216">在本教程中讨论的主题的详细信息，请参阅以下资源：</span><span class="sxs-lookup"><span data-stu-id="f34a6-216">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="f34a6-217">应用\_Offline.htm 和解决"IE 友好错误"功能</span><span class="sxs-lookup"><span data-stu-id="f34a6-217">App\_Offline.htm and Working Around the "IE Friendly Errors" Feature</span></span>](https://weblogs.asp.net/scottgu/App_5F00_Offline.htm-and-working-around-the-_2200_IE-Friendly-Errors_2200_-feature)
- [<span data-ttu-id="f34a6-218">会话状态模式</span><span class="sxs-lookup"><span data-stu-id="f34a6-218">Session-State Modes</span></span>](https://msdn.microsoft.com/library/ms178586.aspx)

> [!div class="step-by-step"]
> <span data-ttu-id="f34a6-219">[上一页](determining-what-files-need-to-be-deployed-cs.md)
> [下一页](deploying-your-site-using-visual-studio-cs.md)</span><span class="sxs-lookup"><span data-stu-id="f34a6-219">[Previous](determining-what-files-need-to-be-deployed-cs.md)
[Next](deploying-your-site-using-visual-studio-cs.md)</span></span>
