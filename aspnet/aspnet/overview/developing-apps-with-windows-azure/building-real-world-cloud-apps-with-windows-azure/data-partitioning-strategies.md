---
uid: aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/data-partitioning-strategies
title: 数据分区策略 （使用 Azure 构建实际云应用） |Microsoft Docs
author: MikeWasson
description: 构建真实世界云应用与 Azure 的电子书基于由 Scott Guthrie 开发的演示文稿。 它还说明了 13 模式和实践可以他...
ms.author: riande
ms.date: 06/12/2014
ms.assetid: 513837a7-cfea-4568-a4e9-1f5901245d24
msc.legacyurl: /aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/data-partitioning-strategies
msc.type: authoredcontent
ms.openlocfilehash: 07a80767ca2def26c0252037a3b8b990abcbe1b3
ms.sourcegitcommit: 7b4e3936feacb1a8fcea7802aab3e2ea9c8af5b4
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/04/2018
ms.locfileid: "48578479"
---
<a name="data-partitioning-strategies-building-real-world-cloud-apps-with-azure"></a><span data-ttu-id="0afba-104">数据分区策略 （使用 Azure 构建实际云应用）</span><span class="sxs-lookup"><span data-stu-id="0afba-104">Data Partitioning Strategies (Building Real-World Cloud Apps with Azure)</span></span>
====================
<span data-ttu-id="0afba-105">通过[Mike Wasson](https://github.com/MikeWasson)， [Rick Anderson]((https://twitter.com/RickAndMSFT))， [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="0afba-105">by [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson]((https://twitter.com/RickAndMSFT)), [Tom Dykstra](https://github.com/tdykstra)</span></span>

<span data-ttu-id="0afba-106">[下载修复此错误项目](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4)或[下载电子书](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span><span class="sxs-lookup"><span data-stu-id="0afba-106">[Download Fix It Project](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) or [Download E-book](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span></span>

> <span data-ttu-id="0afba-107">**构建真实世界云应用，使用 Azure**电子书基于由 Scott Guthrie 开发的演示文稿。</span><span class="sxs-lookup"><span data-stu-id="0afba-107">The **Building Real World Cloud Apps with Azure** e-book is based on a presentation developed by Scott Guthrie.</span></span> <span data-ttu-id="0afba-108">它还说明了 13 模式和实践，从而帮助您获得成功开发适用于在云中的 web 应用。</span><span class="sxs-lookup"><span data-stu-id="0afba-108">It explains 13 patterns and practices that can help you be successful developing web apps for the cloud.</span></span> <span data-ttu-id="0afba-109">有关序列的信息，请参阅[的第一章](introduction.md)。</span><span class="sxs-lookup"><span data-stu-id="0afba-109">For information about the series, see [the first chapter](introduction.md).</span></span>


<span data-ttu-id="0afba-110">前面我们看到，若要通过添加和删除 web 服务器扩展的云应用程序，web 层是多么容易。</span><span class="sxs-lookup"><span data-stu-id="0afba-110">Earlier we saw how easy it is to scale the web tier of a cloud application, by adding and removing web servers.</span></span> <span data-ttu-id="0afba-111">但是，如果它们已全部达到相同的数据存储，应用程序的瓶颈将移动从前端到后端和数据层，最难进行缩放。</span><span class="sxs-lookup"><span data-stu-id="0afba-111">But if they're all hitting the same data store, your application's bottleneck moves from the front-end to the back-end, and the data tier is the hardest to scale.</span></span> <span data-ttu-id="0afba-112">在这一章中我们介绍如何，将数据分区为多个关系数据库，或将与其他数据存储选项结合使用关系数据库存储，可以使数据层可缩放。</span><span class="sxs-lookup"><span data-stu-id="0afba-112">In this chapter we look at how you can make your data tier scalable by partitioning data into multiple relational databases, or by combining relational database storage with other data storage options.</span></span>

<span data-ttu-id="0afba-113">设置分区方案是最佳完成得更清楚前面所述的原因相同： 它是很难之后应用在生产环境中，更改你的数据存储策略。</span><span class="sxs-lookup"><span data-stu-id="0afba-113">Setting up a partitioning scheme is best done up front for the same reason mentioned earlier: it's very difficult to change your data storage strategy after an app is in production.</span></span> <span data-ttu-id="0afba-114">如果您认为硬预先有关不同的方法，可以避免必须"Twitter 片刻"您的应用程序崩溃或长时间出现故障，而重新组织您的应用程序数据和数据访问代码时。</span><span class="sxs-lookup"><span data-stu-id="0afba-114">If you think hard up front about different approaches, you can avoid having a "Twitter moment" when your app crashes or goes down for a long time while you reorganize your app's data and data access code.</span></span>

## <a name="the-three-vs-of-data-storage"></a><span data-ttu-id="0afba-115">数据存储在三个 Vs</span><span class="sxs-lookup"><span data-stu-id="0afba-115">The three Vs of data storage</span></span>

<span data-ttu-id="0afba-116">若要确定是否需要分区策略，它应该是什么，请考虑有关数据的三个问题：</span><span class="sxs-lookup"><span data-stu-id="0afba-116">In order to determine whether you need a partitioning strategy and what it should be, consider three questions about your data:</span></span>

- <span data-ttu-id="0afba-117">卷-数据量将您最终存储？</span><span class="sxs-lookup"><span data-stu-id="0afba-117">Volume – How much data will you ultimately store?</span></span> <span data-ttu-id="0afba-118">几千兆字节为单位？</span><span class="sxs-lookup"><span data-stu-id="0afba-118">A couple gigabytes?</span></span> <span data-ttu-id="0afba-119">几个几百个千兆字节为单位？</span><span class="sxs-lookup"><span data-stu-id="0afba-119">A couple hundred gigabytes?</span></span> <span data-ttu-id="0afba-120">兆兆字节？</span><span class="sxs-lookup"><span data-stu-id="0afba-120">Terabytes?</span></span> <span data-ttu-id="0afba-121">千万亿字节级别？</span><span class="sxs-lookup"><span data-stu-id="0afba-121">Petabytes?</span></span>
- <span data-ttu-id="0afba-122">速度 – 你的数据会增长的速率是什么？</span><span class="sxs-lookup"><span data-stu-id="0afba-122">Velocity – What is the rate at which your data will grow?</span></span> <span data-ttu-id="0afba-123">它是不生成大量数据的内部应用？</span><span class="sxs-lookup"><span data-stu-id="0afba-123">Is it an internal app that isn't generating a lot of data?</span></span> <span data-ttu-id="0afba-124">客户将上传图像和视频到外部应用程序？</span><span class="sxs-lookup"><span data-stu-id="0afba-124">An external app that customers will be uploading images and videos into?</span></span>
- <span data-ttu-id="0afba-125">各种 – 类型的数据将存储？</span><span class="sxs-lookup"><span data-stu-id="0afba-125">Variety – What type of data will you store?</span></span> <span data-ttu-id="0afba-126">关系、 图像、 键 / 值对、 社交关系图？</span><span class="sxs-lookup"><span data-stu-id="0afba-126">Relational, images, key-value pairs, social graphs?</span></span>

<span data-ttu-id="0afba-127">如果您认为您会有大量的卷、 速度或不同，您必须仔细考虑哪种分区方案最会使应用能够随着高效且有效地增长，并以确保您未遇到任何瓶颈。</span><span class="sxs-lookup"><span data-stu-id="0afba-127">If you think you're going to have a lot of volume, velocity, or variety, you have to carefully consider what kind of partitioning scheme will best enable your app to scale efficiently and effectively as it grows, and to ensure you don't run into any bottlenecks.</span></span>

<span data-ttu-id="0afba-128">主要有三种方法与分区：</span><span class="sxs-lookup"><span data-stu-id="0afba-128">There are basically three approaches to partitioning:</span></span>

- <span data-ttu-id="0afba-129">垂直分区</span><span class="sxs-lookup"><span data-stu-id="0afba-129">Vertical partitioning</span></span>
- <span data-ttu-id="0afba-130">水平分区</span><span class="sxs-lookup"><span data-stu-id="0afba-130">Horizontal partitioning</span></span>
- <span data-ttu-id="0afba-131">混合分区</span><span class="sxs-lookup"><span data-stu-id="0afba-131">Hybrid partitioning</span></span>

## <a name="vertical-partitioning"></a><span data-ttu-id="0afba-132">垂直分区</span><span class="sxs-lookup"><span data-stu-id="0afba-132">Vertical partitioning</span></span>

<span data-ttu-id="0afba-133">垂直 portioning 就像表按列进行分离： 一组列都进入一个数据存储，并且另一组列将进入一个不同的数据存储。</span><span class="sxs-lookup"><span data-stu-id="0afba-133">Vertical portioning is like splitting up a table by columns: one set of columns goes into one data store, and another set of columns goes into a different data store.</span></span>

<span data-ttu-id="0afba-134">例如，假设我的应用程序存储有关的人，包括映像的数据：</span><span class="sxs-lookup"><span data-stu-id="0afba-134">For example, suppose my app stores data about people, including images:</span></span>

![数据表](data-partitioning-strategies/_static/image1.png)

<span data-ttu-id="0afba-136">表示此数据作为表并查看不同类型的数据，可以看到在左侧的三个列具有可以有效地存储由关系数据库，而在右侧的两个列是实质上是字节数组的字符串数据的 c从图像文件的 ome。</span><span class="sxs-lookup"><span data-stu-id="0afba-136">When you represent this data as a table and look at the different varieties of data, you can see that the three columns on the left have string data that can be efficiently stored by a relational database, while the two columns on the right are essentially byte arrays that come from image files.</span></span> <span data-ttu-id="0afba-137">可以将关系数据库中存储图像文件数据和很多人这样做是因为他们不想要将数据保存到文件系统。</span><span class="sxs-lookup"><span data-stu-id="0afba-137">It's possible to storage image file data in a relational database, and a lot of people do that because they don't want to save the data to the file system.</span></span> <span data-ttu-id="0afba-138">它们可能没有可存储的数据所需的卷的文件系统，或者它们可能不希望管理单独备份和还原系统。</span><span class="sxs-lookup"><span data-stu-id="0afba-138">They might not have a file system capable of storing the required volumes of data or they might not want to manage a separate back-up and restore system.</span></span> <span data-ttu-id="0afba-139">此方法适用于在本地数据库和对于少量的云数据库中的数据。</span><span class="sxs-lookup"><span data-stu-id="0afba-139">This approach works well for on-premises databases and for small amounts of data in cloud databases.</span></span> <span data-ttu-id="0afba-140">在本地环境中，可能会更轻松地只是让数据库管理员负责的所有内容。</span><span class="sxs-lookup"><span data-stu-id="0afba-140">In the on-premises environment, it might be easier to just let the DBA take care of everything.</span></span>

<span data-ttu-id="0afba-141">但在云数据库中，存储成本相对高昂，并且有大量的映像无法使数据库的大小增长到超出限制的它可以有效操作。</span><span class="sxs-lookup"><span data-stu-id="0afba-141">But in a cloud database, storage is relatively expensive, and a high volume of images could make the size of the database grow beyond the limits at which it can operate efficiently.</span></span> <span data-ttu-id="0afba-142">可以将数据垂直分区解决这些问题，这意味着数据在表中选择最合适的数据存储的每个列。</span><span class="sxs-lookup"><span data-stu-id="0afba-142">You can address these problems by partitioning the data vertically, which means you choose the most appropriate data store for each column in your table of data.</span></span> <span data-ttu-id="0afba-143">什么可能最适合于此示例是将字符串数据放入关系数据库和 Blob 存储中的映像。</span><span class="sxs-lookup"><span data-stu-id="0afba-143">What might work best for this example is to put the string data in a relational database and the images in Blob storage.</span></span>

![垂直分区的数据表](data-partitioning-strategies/_static/image2.png)

<span data-ttu-id="0afba-145">将映像存储在 Blob 存储而非数据库是在本地环境中比在云中更实用，因为无需担心如何设置文件服务器或管理备份和还原的数据存储在关系数据库之外： 所有为您自动处理 Blob 存储服务。</span><span class="sxs-lookup"><span data-stu-id="0afba-145">Storing images in Blob storage instead of a database is more practical in the cloud than in an on-premises environment because you don't have to worry about setting up file servers or managing back-up and restore of data stored outside of the relational database: all that is handled for you automatically by the Blob storage service.</span></span>

<span data-ttu-id="0afba-146">这是分区方法中修复该应用程序中，我们实现和我们将看看代码，在[Blob 存储一章](unstructured-blob-storage.md)。</span><span class="sxs-lookup"><span data-stu-id="0afba-146">This is the partitioning approach we implemented in the Fix It app, and we'll look at the code for that in the [Blob storage chapter](unstructured-blob-storage.md).</span></span> <span data-ttu-id="0afba-147">如果没有此分区方案和假定 3 兆字节为单位的平均图像大小，修复其应用将仅能以达到 150 千兆字节的最大数据库大小之前存储约 40000 个任务。</span><span class="sxs-lookup"><span data-stu-id="0afba-147">Without this partitioning scheme, and assuming an average image size of 3 megabytes, the Fix It app would only be able to store about 40,000 tasks before hitting the maximum database size of 150 gigabytes.</span></span> <span data-ttu-id="0afba-148">正在删除映像之后，数据库可以存储 10 倍的任务;你必须考虑有关实施水平分区方案之前，你可以转更长的时间。</span><span class="sxs-lookup"><span data-stu-id="0afba-148">After removing the images, the database can store 10 times as many tasks; you can go much longer before you have to think about implementing a horizontal partitioning scheme.</span></span> <span data-ttu-id="0afba-149">并且随着应用程序扩展，您的费用更慢增长因为你的存储需求的大容量进入非常廉价的 Blob 存储。</span><span class="sxs-lookup"><span data-stu-id="0afba-149">And as the app scales, your expenses grow more slowly because the bulk of your storage needs are going into very inexpensive Blob storage.</span></span>

## <a name="horizontal-partitioning-sharding"></a><span data-ttu-id="0afba-150">水平分区 （分片）</span><span class="sxs-lookup"><span data-stu-id="0afba-150">Horizontal partitioning (sharding)</span></span>

<span data-ttu-id="0afba-151">水平 portioning 就像按行拆分表： 将一组行进入一个数据存储，并且另一个行集将进入一个不同的数据存储。</span><span class="sxs-lookup"><span data-stu-id="0afba-151">Horizontal portioning is like splitting up a table by rows: one set of rows goes into one data store, and another set of rows goes into a different data store.</span></span>

<span data-ttu-id="0afba-152">给定的相同数据集，另一个选项是在不同的数据库中存储不同范围的客户名称。</span><span class="sxs-lookup"><span data-stu-id="0afba-152">Given the same set of data, another option would be to store different ranges of customer names in different databases.</span></span>

![水平分区的数据表](data-partitioning-strategies/_static/image3.png)

<span data-ttu-id="0afba-154">你想要非常谨慎以确保数据均匀分布以避免产生热点你分片方案。</span><span class="sxs-lookup"><span data-stu-id="0afba-154">You want to be very careful about your sharding scheme to make sure that data is evenly distributed in order to avoid hot spots.</span></span> <span data-ttu-id="0afba-155">此简单示例中使用的最后一个名称的第一个字母不满足该要求，因为很多人具有的某些常见的字母开头的最后一个名称。</span><span class="sxs-lookup"><span data-stu-id="0afba-155">This simple example using the first letter of the last name doesn't meet that requirement, because a lot of people have last names that start with certain common letters.</span></span> <span data-ttu-id="0afba-156">将时间早于您所料由于某些数据库将变得很大，在大多数会保持小的同时按表大小限制。</span><span class="sxs-lookup"><span data-stu-id="0afba-156">You'd hit table size limitations earlier than you might expect because some databases would get very large while most would remain small.</span></span>

<span data-ttu-id="0afba-157">水平分区做的缺点是，它可能很难在所有数据执行的查询。</span><span class="sxs-lookup"><span data-stu-id="0afba-157">A down side of horizontal partitioning is that it might be hard to do queries across all of the data.</span></span> <span data-ttu-id="0afba-158">在此示例中，查询必须最多 26 个不同的数据库，若要获取的所有应用所存储的数据的描述。</span><span class="sxs-lookup"><span data-stu-id="0afba-158">In this example, a query would have to draw from up to 26 different databases to get all of the data stored by the app.</span></span>

## <a name="hybrid-partitioning"></a><span data-ttu-id="0afba-159">混合分区</span><span class="sxs-lookup"><span data-stu-id="0afba-159">Hybrid partitioning</span></span>

<span data-ttu-id="0afba-160">可以组合使用垂直和水平分区。</span><span class="sxs-lookup"><span data-stu-id="0afba-160">You can combine vertical and horizontal partitioning.</span></span> <span data-ttu-id="0afba-161">例如，在示例数据将无法在 Blob 存储中存储图像和字符串数据水平分区。</span><span class="sxs-lookup"><span data-stu-id="0afba-161">For example, in the example data you could store the images in Blob storage and horizontally partition the string data.</span></span>

![数据分区的表混合](data-partitioning-strategies/_static/image4.png)

## <a name="partitioning-a-production-application"></a><span data-ttu-id="0afba-163">分区的生产应用程序</span><span class="sxs-lookup"><span data-stu-id="0afba-163">Partitioning a production application</span></span>

<span data-ttu-id="0afba-164">从概念上很容易看到如何均可使用分区方案，但任何分区方案也会增加代码复杂性并引入了许多新的复杂情况，您需要处理。</span><span class="sxs-lookup"><span data-stu-id="0afba-164">Conceptually it's easy to see how a partitioning scheme would work, but any partitioning scheme does increase code complexity and introduces many new complications that you have to deal with.</span></span> <span data-ttu-id="0afba-165">如果要移动到 blob 存储的映像，您怎么办时的存储服务已停止？</span><span class="sxs-lookup"><span data-stu-id="0afba-165">If you're moving images to blob storage, what do you do when the storage service is down?</span></span> <span data-ttu-id="0afba-166">如何处理 blob 安全？</span><span class="sxs-lookup"><span data-stu-id="0afba-166">How do you handle blob security?</span></span> <span data-ttu-id="0afba-167">如果数据库和 blob 存储获取同步的会发生什么情况？</span><span class="sxs-lookup"><span data-stu-id="0afba-167">What happens if the database and blob storage get out of sync?</span></span> <span data-ttu-id="0afba-168">如果你是分片，您将如何处理跨所有数据库进行都查询？</span><span class="sxs-lookup"><span data-stu-id="0afba-168">If you're sharding, how will you handle querying across all of the databases?</span></span>

<span data-ttu-id="0afba-169">只要您计划为其在执行到生产环境之前，复杂性是易于管理。</span><span class="sxs-lookup"><span data-stu-id="0afba-169">The complications are manageable so long as you're planning for them before you go to production.</span></span> <span data-ttu-id="0afba-170">未执行的操作的许多人希望他们有更高版本。</span><span class="sxs-lookup"><span data-stu-id="0afba-170">Many people who didn't do that wish they had later.</span></span> <span data-ttu-id="0afba-171">我们的客户咨询团队 (CAT) 团队从客户的应用程序采用非常大的方式，获取有关每隔一个月的慌慌张张的电话呼叫的平均和他们没有进行此规划。</span><span class="sxs-lookup"><span data-stu-id="0afba-171">On average our Customer Advisory Team (CAT) team gets panicked phone calls about once a month from customers whose apps are taking off in a really big way, and they didn't do this planning.</span></span> <span data-ttu-id="0afba-172">和其指定类似于:"Help ！</span><span class="sxs-lookup"><span data-stu-id="0afba-172">And they say something like: "Help!</span></span> <span data-ttu-id="0afba-173">我把所有内容放在单个数据存储，并在长达 45 天我要对其运行空间不足 ！"</span><span class="sxs-lookup"><span data-stu-id="0afba-173">I put everything in a single data store, and in 45 days I'm going to run out of space on it!"</span></span> <span data-ttu-id="0afba-174">并且如果有大量的业务逻辑中内置了如何访问数据存储区，并且必须使用您的应用程序的客户，没有任何迁移时停机的某一天的好时机。</span><span class="sxs-lookup"><span data-stu-id="0afba-174">And if you have a lot of business logic built into how you access your data store and you have customers who are using your app, there's no good time to go down for a day while you migrate.</span></span> <span data-ttu-id="0afba-175">我们最终会其数据 herculean 工作，以帮助客户分区经过动态无需停机。</span><span class="sxs-lookup"><span data-stu-id="0afba-175">We end up going through herculean efforts to help the customer partition their data on the fly with no down time.</span></span> <span data-ttu-id="0afba-176">它是非常令人兴奋、 非常可怕，并且不是你想要参与如果能避免 ！</span><span class="sxs-lookup"><span data-stu-id="0afba-176">It's very exciting and very scary, and not something you want to be involved in if you can avoid it!</span></span> <span data-ttu-id="0afba-177">预先考虑这和将其集成到您的应用程序将使您的生活变得更加轻松如果应用程序的增长更高版本。</span><span class="sxs-lookup"><span data-stu-id="0afba-177">Thinking about this up front and integrating it into your app will make your life a lot easier if the app grows later.</span></span>

## <a name="summary"></a><span data-ttu-id="0afba-178">总结</span><span class="sxs-lookup"><span data-stu-id="0afba-178">Summary</span></span>

<span data-ttu-id="0afba-179">有效的分区方案可以让你的云应用程序扩展到千万亿字节的数据而无需瓶颈在云中。</span><span class="sxs-lookup"><span data-stu-id="0afba-179">An effective partitioning scheme can enable your cloud app to scale to petabytes of data in the cloud without bottlenecks.</span></span> <span data-ttu-id="0afba-180">同时，无需预先为大规模机或广泛的基础结构即用即付可能就像在本地数据中心中运行应用程序。</span><span class="sxs-lookup"><span data-stu-id="0afba-180">And you don't have to pay up front for massive machines or extensive infrastructure as you might if you were running the app in an on-premises data center.</span></span> <span data-ttu-id="0afba-181">云可在你可以根据需要并且你只付钱让尽可能使用当你使用此选项以增量方式添加容量。</span><span class="sxs-lookup"><span data-stu-id="0afba-181">In the cloud you can you can incrementally add capacity as you need it, and you're only paying for as much as you're using when you use it.</span></span>

<span data-ttu-id="0afba-182">在中[接下来的章节](unstructured-blob-storage.md)我们将了解如何修复它应用实现通过将图像存储在 Blob 存储中的垂直分区。</span><span class="sxs-lookup"><span data-stu-id="0afba-182">In the [next chapter](unstructured-blob-storage.md) we'll see how the Fix It app implements vertical partitioning by storing images in Blob storage.</span></span>

## <a name="resources"></a><span data-ttu-id="0afba-183">资源</span><span class="sxs-lookup"><span data-stu-id="0afba-183">Resources</span></span>

<span data-ttu-id="0afba-184">有关分区策略的详细信息，请参阅以下资源。</span><span class="sxs-lookup"><span data-stu-id="0afba-184">For more information about partitioning strategies, see the following resources.</span></span>

<span data-ttu-id="0afba-185">文档：</span><span class="sxs-lookup"><span data-stu-id="0afba-185">Documentation:</span></span>

- <span data-ttu-id="0afba-186">[Windows Azure 云服务上的大规模服务的设计的最佳实践](https://msdn.microsoft.com/library/windowsazure/jj717232.aspx)。</span><span class="sxs-lookup"><span data-stu-id="0afba-186">[Best Practices for the Design of Large-Scale Services on Windows Azure Cloud Services](https://msdn.microsoft.com/library/windowsazure/jj717232.aspx).</span></span> <span data-ttu-id="0afba-187">Mark Simms 和 Michael Thomassy 白皮书。</span><span class="sxs-lookup"><span data-stu-id="0afba-187">White paper by Mark Simms and Michael Thomassy.</span></span>
- <span data-ttu-id="0afba-188">[Microsoft 模式和实践的云设计模式](https://msdn.microsoft.com/library/dn568099.aspx)。</span><span class="sxs-lookup"><span data-stu-id="0afba-188">[Microsoft Patterns and Practices - Cloud Design Patterns](https://msdn.microsoft.com/library/dn568099.aspx).</span></span> <span data-ttu-id="0afba-189">请参阅数据分区指南，分片模式。</span><span class="sxs-lookup"><span data-stu-id="0afba-189">See Data Partitioning guidance, Sharding pattern.</span></span>

<span data-ttu-id="0afba-190">视频：</span><span class="sxs-lookup"><span data-stu-id="0afba-190">Videos:</span></span>

- <span data-ttu-id="0afba-191">[防故障： 构建可缩放、 可复原的云服务](https://channel9.msdn.com/Series/FailSafe)。</span><span class="sxs-lookup"><span data-stu-id="0afba-191">[FailSafe: Building Scalable, Resilient Cloud Services](https://channel9.msdn.com/Series/FailSafe).</span></span> <span data-ttu-id="0afba-192">包含 9 个部分组成的系列 Ulrich Homann、 Marc Mercuri 和 Mark Simms。</span><span class="sxs-lookup"><span data-stu-id="0afba-192">Nine-part series by Ulrich Homann, Marc Mercuri, and Mark Simms.</span></span> <span data-ttu-id="0afba-193">提供高级概念和体系结构原则非常可访问且有趣的方式，来自 Microsoft 客户咨询团队 (CAT) 实际客户体验的情景。</span><span class="sxs-lookup"><span data-stu-id="0afba-193">Presents high-level concepts and architectural principles in a very accessible and interesting way, with stories drawn from Microsoft Customer Advisory Team (CAT) experience with actual customers.</span></span> <span data-ttu-id="0afba-194">请参阅第 7 中的分区描述。</span><span class="sxs-lookup"><span data-stu-id="0afba-194">See the partitioning discussion in episode 7.</span></span>
- <span data-ttu-id="0afba-195">[构建大型： 从 Windows Azure 客户的第 I 到的经验教训](https://channel9.msdn.com/Events/Build/2012/3-029)。Mark Simms 讨论了分区方案，分片策略如何实现分片和 SQL Database 联合，开始 19:49。</span><span class="sxs-lookup"><span data-stu-id="0afba-195">[Building Big: Lessons learned from Windows Azure customers - Part I](https://channel9.msdn.com/Events/Build/2012/3-029). Mark Simms discusses partitioning schemes, sharding strategies, how to implement sharding, and SQL Database Federations, starting at 19:49.</span></span> <span data-ttu-id="0afba-196">类似于防故障系列但进入操作方法的更多详细信息。</span><span class="sxs-lookup"><span data-stu-id="0afba-196">Similar to the Failsafe series but goes into more how-to details.</span></span>

<span data-ttu-id="0afba-197">示例代码：</span><span class="sxs-lookup"><span data-stu-id="0afba-197">Sample code:</span></span>

- <span data-ttu-id="0afba-198">[云服务在 Windows Azure 中的基础知识](https://code.msdn.microsoft.com/Cloud-Service-Fundamentals-4ca72649)。</span><span class="sxs-lookup"><span data-stu-id="0afba-198">[Cloud Service Fundamentals in Windows Azure](https://code.msdn.microsoft.com/Cloud-Service-Fundamentals-4ca72649).</span></span> <span data-ttu-id="0afba-199">示例包括分片数据库的应用程序。</span><span class="sxs-lookup"><span data-stu-id="0afba-199">Sample application that includes a sharded database.</span></span> <span data-ttu-id="0afba-200">有关实现的分片方案的说明，请参阅[DAL – 分片的 RDBMS](https://blogs.msdn.com/b/windowsazure/archive/2013/09/05/dal-sharding-of-rdbms.aspx) Windows Azure 博客上。</span><span class="sxs-lookup"><span data-stu-id="0afba-200">For a description of the sharding scheme implemented, see [DAL – Sharding of RDBMS](https://blogs.msdn.com/b/windowsazure/archive/2013/09/05/dal-sharding-of-rdbms.aspx) on the Windows Azure blog.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="0afba-201">[上一页](data-storage-options.md)
> [下一页](unstructured-blob-storage.md)</span><span class="sxs-lookup"><span data-stu-id="0afba-201">[Previous](data-storage-options.md)
[Next](unstructured-blob-storage.md)</span></span>
